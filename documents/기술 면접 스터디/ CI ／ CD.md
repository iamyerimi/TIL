# CI / CD

CI/CD란 어플리케이션 개발 단계부터 배포 때까지 모든 단계들을 자동화를 통해서 조금 더 효율적이고 빠르게 사용자에게 빈번히 배포할 수 있도록 만드는 것을 말합니다.

CI(Continuous Integration)란 지속적인 통합의 약자고, CD(Continuous Delivery)란 지속적인 제공의 약자입니다. CD를 Deployment, 배포로 사용하는 경우도 있습니다.

<br />

## CI(Continuous Integration) 지속적인 통합

버그 수정, 또는 새로 만드는 기능들이 메인 리파지토리에 주기적으로 빌드되고 테스트가 되어서 머지되는 것을 말합니다. 

CI에는 두 가지 포인트가 있습니다.

> 첫 번째, 코드 변경사항은 주기적으로 빈번하게 머지해야 합니다.

새로운 기능을 개발하기 위해서 코드를 작성하는 시간보다 머지 충돌을 해결하기 위해서 더 많은 시간을 사용해야 하는 경우가 생길 수도 있습니다. <br/> 그렇기 떄문에 최대한 작은 단위로 나눠서 개발하고, 통합해 나가는 것이 중요합니다.

> 두 번째, 주기적으로 머지된 코드의 변경 사항이 자동으로 빌드가 되어서 코드 변경사항 이후에도 빌드가 성공적으로 되는지 확인이 되어야 하고, 새로 추가된 코드의 변경 사항 뿐만 아니라 기존의 시스템에 다른 버그를 초래하지는 않았는지 자동으로 테스트까지 되어야 합니다.

메인 리파지토리가 있고, 개발자들은 주기적으로 코드의 변경 사항을 메인 리파지토리에 머지합니다. <br/> 이렇게 머지가 되었으면 자동으로 팀에서 만든 CI 스크립트를 통해서 추가된 코드와 함께 이 리파지토리가 빌드가 되고, 빌드가 잘 된다면 팀에서 작성한 유닛 테스트, 인티그레이션 테스트 등등 여러가지 테스트들도 스크립트를 통해서 실행이 됩니다. <br />
이렇게 빌드도 테스트도 모두 잘 되어서 그린이라는 초록색 사인이 나오면 무사히 통과가 되어서 나중에 배포할 때 반영이 될 수 있고, 새로 추가된 코드에 문제가 있어 빌드가 실패하거나, 또는 빌드는 성공했는데 테스트에서 실패한다면 레드 사인이 뜨면서 문제를 일으킨 개발자에게 자동으로 알려줍니다.

<br />

##  CI 원칙을 따라갔을 때의 장점

1. 주기적으로 머지를 하기 때문에 머지 충돌을 피할 수 있어서 개발의 생산성이 향상됩니다.

2. 머지되는 모든 코드들은 자동으로 빌드되고 테스트 되기 때문에 코드의 결함이나 문제점이 빠르게 발견될 수 있습니다.

3. 이렇게 발생되는 결함은 빠르게 수정이 가능합니다. <Br/> 주기적으로 머지를 하기 위해서 코드의 변경 사항이 작기 때문에 문제를 수정할 때도 조금 더 고립된 작은 단위의 문제를 확인할 수 있기 때문입니다.

4. 더 나은 코드의 퀄리티를 가질 수 있습니다. <br/> CI를 잘 운영하기 위해서는 모든 개발자들이 자신이 새로 작성하는 코드에 한해서 unit test를 꼭 포함해야 하기 때문입니다. 그래서 CI를 사용한다면 우리 프로젝트의 대부분의 소스 코드들이 자동으로 테스트가 될 수 있도록 만들기 때문에 조금 더 안정성 있는 제품을 개발해 나갈 수 있습니다.


## CD(Continuous Delivery, Deployment) 지속적인 제공, 지속적인 배포

두 가지 모두 다 마지막 배포 단계에서 어떻게 하면 자동화해서 배포를 만들 수 있을지 고민하는 단계입니다.

CI를 통해서 주기적으로 머지된 코드의 변경사항들이 자동으로 빌드가 되고 테스트가 되었다면 이제 배포하는 단계에서 배포할, 즉 릴리즈 할 준비 과정을 거칩니다.
여기에서 준비된 릴리즈가 문제가 없는지 검증 후 최종적으로 배포 여부가 결정되면 <u>수동적으로 배포</u>하는 단계를 **Continuous Delivery**라고 합니다.

또는 릴리즈가 준비되자마자 자동으로 사용자에게 배포할 수 있도록 만들 수도 있습니다.
이렇게 <u>모든 과정을 자동화</u> 해놓는 것을 **Continuous Deployment**라고 합니다. 딜리버리와 비슷하지만, 최종 단계가 자동화가 되었는지에 따라서 살짝 달라질 수 있습니다.

회사마다 어느 정도의 자동화를 하냐가 달라지기 때문에 CI/CD라고 해서 모든 회사가 똑같은 프로세스를 거치는 것은 아니고, 회사마다, 팀마다 다른 방식으로 적용해서 사용할 수 있습니다.

CI/CD는 완벽히 분리된 것이 아니라 대부분의 회사에서 CI/CD를 거쳐서 배포하기 때문에 CI/CD 이렇게 묶에서 부르곤 합니다.
<br/>CI/CD 파이프라인을 한 번 더 정리해보면, 개발자가 작은 단위로 기능을 나누어서 주기적으로 메인 리파지토리에 머지를 하면, 자동으로 빌드를 하고, 테스트 과정을 거쳐서 릴리즈 준비를 하고요, 여기서 수동적 혹은 자동으로 최종 배포를 거치게 됩니다.

CI/CD를 위한 툴로는 젠킨스, 빌카이트, 깃헙액션 등이 있습니다.

<br/>

---------
## 꼬리 질문

- 프론트엔드가 사용할 수 있는 CI/CD의 예시는 무엇이 있나요?

- 사용한 CI/CD가 있으신가요?
- 사용해보지 않으셨다면 앞으로 개발하면서 이 러닝커브를 어떻게 해결하실 수 있으신가요? 혹은 이처럼 공부하면서 개발해본 경험이 있으신가요?
- 사용한 테스트 라이브러리가 있다면 그에 대해 설명해주세요.

<br/>

--------
## 참고자료

- [CI/CD 5분 개념 정리 (현업에서 쓰는 개발 프로세스)](https://youtu.be/0Emq5FypiMM?si=BDtLMpf9MH85XQcU)